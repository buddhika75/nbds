<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">

    <body>

        <ui:composition template="./resources/template/template_1.xhtml">

            <ui:define name="content">

                <h:form>


                    <p:panel style="border: #ffffff">

                        <f:facet name="header" >
                            <h:outputLabel value="BIRTH DEFECTS NOTIFICATION FORM" style="alignment-adjust: middle"></h:outputLabel>
                            <p:spacer width="10" ></p:spacer>
                            <p:commandButton ajax="false" value="Save" action="#{notificationFormController.saveSelected()}" id="cmdSv" disabled="#{sessionController.superUser}"></p:commandButton>
                            <p:tooltip for="cmdSv" value="Save Hospital Notification Form" showEffect="fade" hideEffect="fade" />  
                        </f:facet>

                        <div align="left">

                            <p:tabView >
                                <p:tab title="A. BASIC INFORMATION"  >
                                    <h:panelGrid columns="2" style="width: 80%;">
                                        <p:outputLabel value="1. Infant's (or Mother's) name"></p:outputLabel>
                                        <p:inputText value="#{notificationFormController.current.infant.name}" size="40" id="txtInfantName"></p:inputText>

                                        <p:outputLabel value="2. Sex of infant"></p:outputLabel>
                                        <p:selectOneRadio value="#{notificationFormController.current.infant.personSex}" id="sex">
                                            <f:selectItem itemValue="MALE" itemLabel=" Male "></f:selectItem>
                                            <f:selectItem itemValue="FEMALE" itemLabel=" Female "></f:selectItem>
                                            <f:selectItem itemValue="AMBIGUOUS" itemLabel=" Ambiguous "></f:selectItem>
                                        </p:selectOneRadio>




                                        <p:outputLabel value="3. Location where case identified :"></p:outputLabel>
                                        <p:outputLabel></p:outputLabel>

                                        <p:outputLabel value="Hospital"></p:outputLabel>
                                        <p:autoComplete id="acHos"
                                                        forceSelection="true"                                 
                                                        value="#{notificationFormController.current.hospital}" 
                                                        completeMethod="#{institutionController.completeHospitals}"
                                                        var="oi" itemLabel="#{oi.name}" itemValue="#{oi}" >
                                            <f:ajax event="itemSelect" execute="acHos" render="acWard" ></f:ajax>
                                        </p:autoComplete>

                                        <p:outputLabel value="Ward/Unit"></p:outputLabel>  
                                        <p:autoComplete
                                            id="acWard"
                                            forceSelection="true"                                 
                                            value="#{notificationFormController.current.ward}" 
                                            completeMethod="#{notificationFormController.completeOfficialDepartments}"
                                            var="of" itemLabel="#{of.name}" itemValue="#{of}">
                                        </p:autoComplete>

                                        <p:outputLabel value="BHT No"></p:outputLabel>   
                                        <p:inputText value="#{notificationFormController.current.bhtNo}" ></p:inputText>

                                        <p:outputLabel value="4. Residence Address"></p:outputLabel>
                                        <p:inputText value="#{notificationFormController.current.mother.address}" size="40" id="txtAddress"></p:inputText>

                                        <p:outputLabel value="5. MOH Division"></p:outputLabel>   
                                        <p:autoComplete
                                            forceSelection="true"                                 
                                            value="#{notificationFormController.current.mohArea}" 
                                            completeMethod="#{notificationFormController.completeMohAreas}"
                                            var="oi" itemLabel="#{oi.name}" itemValue="#{oi}"  id="acmoh"> 
                                        </p:autoComplete>
                                        <p:outputLabel value="6. District / RDHS"></p:outputLabel>
                                        <p:autoComplete
                                            forceSelection="true"                                 
                                            value="#{notificationFormController.current.district}" 
                                            completeMethod="#{areaController.completeDistricts}"
                                            var="oi" itemLabel="#{oi.name}" itemValue="#{oi}" id="acdiv">
                                            <f:ajax event="itemSelect" execute="acdiv" render="acmoh"></f:ajax>
                                        </p:autoComplete>

                                    </h:panelGrid>
                                    <h:panelGrid columns="2" style="width: 80%;">

                                        <h:panelGrid columns="5" >
                                            <p:outputLabel value="7. Mother's Name"></p:outputLabel>
                                            <p:inputText value="#{notificationFormController.current.mother.name}" size="20" ></p:inputText>
                                            <p:spacer width="20" height="1" ></p:spacer>
                                            <p:outputLabel value="8. Maternal Age(Years)"></p:outputLabel>
                                            <p:inputText value="#{notificationFormController.current.mother.age}" size="5" id="txtMotherAge"></p:inputText>
                                        </h:panelGrid>

                                        <h:panelGrid columns="2" >
                                            <p:outputLabel value="9. Contact Phone"></p:outputLabel>
                                            <p:inputMask value="#{notificationFormController.current.tp1}" size="20" id="txtP1" mask="999-9999999"></p:inputMask>

                                        </h:panelGrid>

                                    </h:panelGrid>

                                    <h:panelGrid columns="4" style="width: 80%;text-align: left;">
                                        <p:outputLabel value="10. Ethnicity"></p:outputLabel>
                                        <p:selectOneRadio value="#{notificationFormController.current.mother.ethnicity}" id="selEth">
                                            <f:selectItems value="#{enumController.ethnicities}" ></f:selectItems>
                                        </p:selectOneRadio>
                                        <p:inputText value="#{notificationFormController.current.infant.ethnicityOther}" size="20" id="txtMotherName"></p:inputText>
                                        <p:spacer height="1" width="20"></p:spacer>
                                    </h:panelGrid>

                                    <h:panelGrid columns="5" style="width: 80%;">

                                        <p:outputLabel value="11. Date of Birth/Delivary"></p:outputLabel>
                                        <p:calendar value="#{notificationFormController.current.infant.dob}" size="20" navigator="true" pattern="dd-MM-yyyy"></p:calendar>

                                        <p:spacer height="1" width="20" ></p:spacer>

                                        <p:outputLabel value="12. Place of Delivary"></p:outputLabel>
                                        <p:inputText value="#{notificationFormController.current.placeOfDelivary}" size="20" ></p:inputText>

                                    </h:panelGrid>
                                    <h:panelGrid columns="2" style="width: 80%;">

                                        <p:outputLabel value="13. Date of Case Identified"></p:outputLabel>
                                        <p:calendar value="#{notificationFormController.current.caseIdentifiedDate}" size="30" id="calIden" navigator="true" pattern="dd-MM-yyyy"></p:calendar>


                                        <h:panelGrid columns="12" >
                                            <p:outputLabel value="14. Age at case detection"></p:outputLabel>
                                            <p:spacer height="1" width="20" ></p:spacer>
                                            <p:inputText value="#{notificationFormController.current.ageAtCaseDetectionYears}" size="4" id="txtY"></p:inputText>
                                            <p:outputLabel value="Years"></p:outputLabel>
                                            <p:spacer height="1" width="5" ></p:spacer>
                                            <p:inputText value="#{notificationFormController.current.ageAtCaseDetectionMonths}" size="4" id="txtM"></p:inputText>
                                            <p:outputLabel value="Months"></p:outputLabel>
                                            <p:spacer height="1" width="5" ></p:spacer>
                                            <p:inputText value="#{notificationFormController.current.ageAtCaseDetectionDays}" size="4" id="txtD"></p:inputText>
                                            <p:outputLabel value="Days"></p:outputLabel>
                                            <p:spacer height="1" width="5" ></p:spacer>
                                        </h:panelGrid>


                                    </h:panelGrid>
                                    <h:panelGrid columns="2" style="width: 80%;">
                                        <p:outputLabel value="15. Living Status"></p:outputLabel>
                                        <p:selectOneRadio value="#{notificationFormController.current.livingStatus}" id="selLs">
                                            <f:selectItems value="#{enumController.livingStatusLimited}" ></f:selectItems>
                                        </p:selectOneRadio>

                                        <p:outputLabel value="16. Date of Death"></p:outputLabel>
                                        <p:calendar value="#{notificationFormController.current.dateOfDeath}" size="30"  navigator="true" pattern="dd-MM-yyyy"></p:calendar>

                                        <p:outputLabel value="17. Post mortem / Necropsy details"></p:outputLabel>
                                        <p:selectBooleanButton  offLabel="Not Done" onLabel="Done" value="#{notificationFormController.current.postMortem}" >
                                        </p:selectBooleanButton>
                                    </h:panelGrid>



                                </p:tab>
                                <p:tab title="B. DESCRIPTION OF THE CONGENITAL ABNORMALITIES" >
                                    <p:outputLabel value="Presence of congenital abnormalities:" ></p:outputLabel>
                                    <p:selectOneRadio value="#{notificationFormController.current.presenceOfCongenitalAbnormalities}" id="selCa">
                                        <f:selectItems value="#{enumController.presenceOfCongenitalAbnormalities}" ></f:selectItems>
                                    </p:selectOneRadio>
                                    <p:inputTextarea style="height: 250px; width: 50%;" value="#{notificationFormController.current.descriptionOfTheCongenitalAbnormalities}" ></p:inputTextarea>
                                </p:tab>
                                <p:tab title="C. DEATH DETAILS" >
                                    <p:panelGrid columns="2">
                                        <p:outputLabel value="Date of Death"></p:outputLabel>
                                        <p:calendar value="#{notificationFormController.current.infant.dateOfDead}" size="40" id="calDOD" navigator="true" pattern="dd-MM-yyyy"></p:calendar>
                                        <p:outputLabel value="Age at Death"></p:outputLabel>
                                        <p:panelGrid columns="2">
                                            <p:outputLabel value="Years"></p:outputLabel>
                                            <p:inputText value="#{notificationFormController.current.infantAodYrs}" id="txtAgeYear"></p:inputText>
                                            <p:outputLabel value="Months"></p:outputLabel>
                                            <p:inputText value="#{notificationFormController.current.infantAodMnths}" id="txtAgeMonth"></p:inputText>
                                            <p:outputLabel value="Days"></p:outputLabel>
                                            <p:inputText value="#{notificationFormController.current.infantAodDys}" id="txtAgeDay"></p:inputText>
                                        </p:panelGrid>
                                        <p:outputLabel value="Place of Death"></p:outputLabel>
                                        <p:inputText value="#{notificationFormController.current.placeOfDead}" size="40" id="plsDeath"></p:inputText>
                                        <p:outputLabel value="Name of the JMO / Pathologist"></p:outputLabel>
                                        <p:inputText  size="40" id="txtJMO" value="#{notificationFormController.current.jmo.name}"></p:inputText>
                                        <p:outputLabel><font color="blue">Cause/s of Death:</font></p:outputLabel>
                                        <p:outputLabel></p:outputLabel>
                                        <p:outputLabel value="Underlying Cause"></p:outputLabel>
                                        <p:inputText value="#{notificationFormController.current.underlyingCause}" size="40" id="txtun"></p:inputText>
                                        <p:outputLabel value="Immediate Cause"></p:outputLabel>
                                        <p:inputText value="#{notificationFormController.current.immediateCause}" size="40" id="txtim"></p:inputText>
                                        <p:outputLabel value="Conditions contributing to Death"></p:outputLabel>
                                        <p:inputText value="#{notificationFormController.current.conDeath}" size="40" id="txtcontodeath"></p:inputText>
                                    </p:panelGrid>

                                </p:tab>
                                <p:tab title="D. INFORMANT DETAILS" >

                                    <h:panelGrid columns="2" >


                                        <p:outputLabel value="Name of the Informant"></p:outputLabel>
                                        <p:inputText  size="40" id="txtimf" value="#{notificationFormController.current.informant.name}"></p:inputText>
                                        <p:outputLabel value="Designation of the Informant"></p:outputLabel>
                                        <p:inputText  size="40" id="txtdes" value="#{notificationFormController.current.designation}"></p:inputText>
                                        <p:outputLabel value="Contact Phone"></p:outputLabel>
                                        <p:inputMask value="#{notificationFormController.current.inTp}" size="40" id="txtcoIm" mask="999-9999999"></p:inputMask>
                                        <p:outputLabel value="Name of the Head of the Institution"></p:outputLabel>
                                        <p:inputText  size="40" id="txthoi" value="#{notificationFormController.current.hoi.name}"></p:inputText>
                                        <p:outputLabel value="Approved Date"></p:outputLabel>
                                        <p:calendar  size="40" id="txtapp" value="#{notificationFormController.current.approveDate}" navigator="true" pattern="dd-MM-yyyy"></p:calendar>


                                    </h:panelGrid>
                                </p:tab>

                            </p:tabView>




                        </div>



                    </p:panel>



                </h:form>

            </ui:define>


        </ui:composition>

    </body>
</html>
